{"ast":null,"code":"var _jsxFileName = \"/home/faique/geektrust/AdminPanel/src/App.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { search } from \"./utils\";\nimport EditModal from \"./EditModal\";\nimport { Spinner } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resP: [],\n      resResult: [],\n      errMessage: [],\n      searchTerm: \"\",\n      currentPage: 0,\n      filerRes: [],\n      checkedList: [],\n      currentID: null,\n      email: \"\",\n      role: \"\",\n      name: \"\",\n      modal: false,\n      selectAll: false,\n      updated: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.showLoading = this.showLoading.bind(this);\n    this.handleModal = this.handleModal.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.handleSelectAll = this.handleSelectAll.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.handleRole = this.handleRole.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n    this.handleEditSubmit = this.handleEditSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const url = \"https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json\";\n    axios.get(url).then(response => {\n      const res_local = JSON.parse(localStorage.getItem(\"resLoc\"));\n      console.log(res_local);\n      this.setState({\n        resResult: res_local || response.data.map(a => {\n          return { ...a,\n            isChecked: false\n          };\n        })\n      }, () => {\n        localStorage.setItem(\"resLoc\", JSON.stringify(this.state.resResult));\n        this.setState({\n          resP: this.state.resResult\n        });\n      });\n    }).catch(error => {\n      this.setState({\n        errMessage: error.message\n      });\n    });\n  }\n\n  search(rows) {\n    return rows.filter(row => row.name.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) > -1 || row.email.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) > -1 || row.id.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) > -1 || row.role.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) > -1);\n  }\n\n  showLoading() {\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      className: \"loading\",\n      size: \"\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      resResult: this.state.resP\n    });\n    this.setState({\n      searchTerm: event.target.value\n    }, () => {\n      let tfile = this.search(this.state.resResult);\n      this.setState({\n        resResult: tfile\n      });\n    });\n  }\n\n  handleCheck(item, e) {\n    console.log(\"this\", e.target.name);\n    let currid = this.state.resResult.findIndex(element => element.id === item.id);\n    let newArray = [...this.state.resResult];\n    newArray[currid] = { ...newArray[currid],\n      isChecked: !newArray[currid].isChecked\n    };\n    this.setState({\n      resResult: newArray\n    });\n    this.setState({\n      checkedList: [...this.state.checkedList, item.id]\n    });\n\n    if (e.target.checked) {\n      //true append id to checklist\n      if (this.state.checkedList.indexOf(this.state.checkedList[item]) === -1) {\n        this.setState({\n          checkedList: [...this.state.checkedList, item.id]\n        });\n      }\n    } else {\n      this.setState({\n        checkedList: this.state.checkedList.filter(c_item => {\n          return c_item !== item.id;\n        })\n      });\n    }\n  }\n\n  handleSelectAll(e, checkedList, currentPage) {\n    this.setState({\n      selectAll: !this.state.selectAll\n    }, () => {\n      if (this.state.selectAll === false) {\n        this.setState({\n          checkedList: []\n        });\n      }\n    });\n    let start = currentPage * 10;\n    let end = 0;\n    this.state.resResult.length < 10 ? end = this.state.resResult.length : end = start + 10;\n    let newArray = [...this.state.resResult]; // eslint-disable-next-line\n\n    this.state.resResult.slice(start, end).map((item, index) => {\n      newArray[item.id - 1] = { ...newArray[item.id - 1],\n        isChecked: !item.isChecked\n      };\n      this.setState(prevState => ({\n        checkedList: [...prevState.checkedList, item.id]\n      }));\n    });\n    this.setState({\n      resResult: newArray\n    });\n  }\n\n  listofAllButtons() {\n    let pageNumber = [];\n\n    for (let i = 0; i < this.state.resResult.length / 10; i++) {\n      pageNumber.push(i);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"list__buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-class\",\n          onClick: () => {\n            this.setState({\n              currentPage: 0\n            });\n          },\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-class\",\n          onClick: () => {\n            this.setState({\n              currentPage: this.state.currentPage - 1\n            });\n          },\n          children: \"prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), pageNumber.map(number => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            listStyleType: \"none\",\n            display: \"inline\",\n            margin: \"5px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-class\",\n            onClick: () => {\n              this.setState({\n                currentPage: number\n              });\n            },\n            children: number + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)\n        }, number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-class\",\n          onClick: () => {\n            this.setState({\n              currentPage: this.state.currentPage + 1\n            });\n          },\n          children: \"next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-class\",\n          onClick: () => {\n            this.setState({\n              currentPage: this.state.resResult.length / 10 - 1\n            });\n          },\n          children: \"end\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n\n  handleDelete(e, checkedList) {\n    if (this.state.selectAll) {\n      this.setState({\n        selectAll: !this.state.selectAll\n      });\n    }\n\n    let tempfiles = this.state.resResult;\n    let filter = []; // eslint-disable-next-line\n\n    tempfiles.map(obj => {\n      if (!checkedList.includes(obj.id)) {\n        filter = [...filter, obj];\n      }\n    });\n    this.setState({\n      filerRes: filter\n    }, () => {\n      localStorage.setItem(\"resLoc\", JSON.stringify(this.state.filerRes));\n      this.setState({\n        resResult: this.state.filerRes,\n        resP: this.state.filerRes\n      });\n    });\n    this.setState({\n      checkedList: []\n    });\n  }\n\n  handleAdd(e, checkedList) {\n    let tempfiles = this.state.resResult;\n    let filter = tempfiles;\n    filter = [...filter, {\n      email: \"aaa\",\n      name: \"op\",\n      id: \"00\",\n      role: \"op\"\n    }];\n    this.setState({\n      filerRes: filter\n    }, () => {\n      localStorage.setItem(\"resLoc\", JSON.stringify(this.state.filerRes));\n      this.setState({\n        resResult: this.state.filerRes,\n        resP: this.state.filerRes\n      });\n    });\n    this.setState({\n      checkedList: []\n    });\n  }\n\n  handleName(event, currentEdit) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  handleEmail(event, currentEdit) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handleRole(event, currentEdit) {\n    this.setState({\n      role: event.target.value\n    });\n  }\n\n  handleEditSubmit(event, currentEdit) {\n    event.preventDefault(); // eslint-disable-next-line\n\n    this.state.resP.map((item, i) => {\n      if (item.id === currentEdit) {\n        let newArray = [...this.state.resP];\n        newArray[i] = { ...newArray[i],\n          name: this.state.name,\n          email: this.state.email,\n          role: this.state.role,\n          isChecked: false\n        };\n        this.setState({\n          resP: newArray,\n          resResult: newArray\n        }, () => {\n          localStorage.setItem(\"resLoc\", JSON.stringify(newArray));\n          this.setState({\n            checkedList: []\n          });\n        });\n      }\n    });\n  }\n\n  handleModal() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render() {\n    // eslint-disable-next-line\n    let mypage = [...Array(5)].map((a, index) => {\n      let index1 = index * 10;\n      return this.state.resResult.slice(index1, index1 + 10);\n    });\n\n    if (this.state.resP.length === 0 && this.state.errMessage.length === 0) {\n      return this.showLoading();\n    }\n\n    if (this.state.resP.length === 0 && this.state.errMessage.length !== 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Some error : \", this.state.errMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Search\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"response-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    onChange: e => {\n                      this.handleSelectAll(e, this.state.checkedList, this.state.currentPage);\n                    },\n                    checked: this.state.selectAll\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.resResult.slice(this.state.currentPage * 10, this.state.currentPage * 10 + 10).map((person, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: person.isChecked === true ? \"active-row\" : \"inactice-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: person.id,\n                    checked: person.isChecked,\n                    onChange: e => {\n                      this.handleCheck(person, e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: person.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: person.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: person.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: person.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), this.listofAllButtons(), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-class delete\",\n            onClick: e => {\n              this.handleDelete(e, this.state.checkedList);\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-class delete\",\n            onClick: e => {\n              this.handleAdd(e, this.state.checkedList);\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-class edit\",\n            onClick: e => {\n              if (this.state.checkedList.length !== 0) {\n                let p = this.state.resResult.filter(row => row.id === this.state.checkedList[0]);\n                this.setState({\n                  name: p[0].name,\n                  email: p[0].email,\n                  role: p[0].role\n                });\n\n                if (this.state.checkedList.length !== 0) {\n                  this.setState({\n                    modal: !this.state.modal,\n                    currentID: this.state.checkedList[0]\n                  });\n                }\n              } else {\n                alert(\"nothing to edit\");\n              }\n            },\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), this.state.modal ? /*#__PURE__*/_jsxDEV(EditModal, {\n          resResult: this.state.resResult,\n          filerRes: this.state.filerRes,\n          handleModal: this.handleModal,\n          name: this.state.name,\n          modal: this.state.modal,\n          currID: this.state.currentID,\n          handleName: this.handleName,\n          handleEmail: this.handleEmail,\n          handleRole: this.handleRole,\n          handleEditSubmit: this.handleEditSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/faique/geektrust/AdminPanel/src/App.js"],"names":["React","Component","axios","search","EditModal","Spinner","App","constructor","props","state","resP","resResult","errMessage","searchTerm","currentPage","filerRes","checkedList","currentID","email","role","name","modal","selectAll","updated","handleChange","bind","showLoading","handleModal","handleCheck","handleSelectAll","handleDelete","handleName","handleRole","handleEmail","handleEditSubmit","componentDidMount","url","get","then","response","res_local","JSON","parse","localStorage","getItem","console","log","setState","data","map","a","isChecked","setItem","stringify","catch","error","message","rows","filter","row","toLowerCase","indexOf","id","event","target","value","tfile","item","e","currid","findIndex","element","newArray","checked","c_item","start","end","length","slice","index","prevState","listofAllButtons","pageNumber","i","push","display","justifyContent","flexWrap","number","listStyleType","margin","tempfiles","obj","includes","handleAdd","currentEdit","preventDefault","render","mypage","Array","index1","person","p","alert"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AACA,OAAO,WAAP;AACA,SAASC,MAAT,QAAuB,SAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,OAAT,QAAwB,YAAxB;;AAEA,eAAe,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AACzCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,SAAS,EAAE,EAFA;AAGXC,MAAAA,UAAU,EAAE,EAHD;AAIXC,MAAAA,UAAU,EAAE,EAJD;AAKXC,MAAAA,WAAW,EAAE,CALF;AAMXC,MAAAA,QAAQ,EAAE,EANC;AAOXC,MAAAA,WAAW,EAAE,EAPF;AAQXC,MAAAA,SAAS,EAAE,IARA;AASXC,MAAAA,KAAK,EAAE,EATI;AAUXC,MAAAA,IAAI,EAAE,EAVK;AAWXC,MAAAA,IAAI,EAAE,EAXK;AAYXC,MAAAA,KAAK,EAAE,KAZI;AAaXC,MAAAA,SAAS,EAAE,KAbA;AAcXC,MAAAA,OAAO,EAAE;AAdE,KAAb;AAgBA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKI,eAAL,GAAuB,KAAKA,eAAL,CAAqBJ,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKK,YAAL,GAAoB,KAAKA,YAAL,CAAkBL,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKM,UAAL,GAAkB,KAAKA,UAAL,CAAgBN,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKO,UAAL,GAAkB,KAAKA,UAAL,CAAgBP,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKQ,WAAL,GAAmB,KAAKA,WAAL,CAAiBR,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKS,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBT,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AAEDU,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,GAAG,GACP,gFADF;AAGAlC,IAAAA,KAAK,CACFmC,GADH,CACOD,GADP,EAEGE,IAFH,CAESC,QAAD,IAAc;AAClB,YAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AACA,WAAKO,QAAL,CACE;AACEpC,QAAAA,SAAS,EACP6B,SAAS,IACTD,QAAQ,CAACS,IAAT,CAAcC,GAAd,CAAmBC,CAAD,IAAO;AACvB,iBAAO,EAAE,GAAGA,CAAL;AAAQC,YAAAA,SAAS,EAAE;AAAnB,WAAP;AACD,SAFD;AAHJ,OADF,EAQE,MAAM;AACJR,QAAAA,YAAY,CAACS,OAAb,CACE,QADF,EAEEX,IAAI,CAACY,SAAL,CAAe,KAAK5C,KAAL,CAAWE,SAA1B,CAFF;AAIA,aAAKoC,QAAL,CAAc;AACZrC,UAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWE;AADL,SAAd;AAGD,OAhBH;AAkBD,KAvBH,EAwBG2C,KAxBH,CAwBUC,KAAD,IAAW;AAChB,WAAKR,QAAL,CAAc;AACZnC,QAAAA,UAAU,EAAE2C,KAAK,CAACC;AADN,OAAd;AAGD,KA5BH;AA6BD;;AAEDrD,EAAAA,MAAM,CAACsD,IAAD,EAAO;AACX,WAAOA,IAAI,CAACC,MAAL,CACJC,GAAD,IACEA,GAAG,CAACvC,IAAJ,CAASwC,WAAT,GAAuBC,OAAvB,CAA+B,KAAKpD,KAAL,CAAWI,UAAX,CAAsB+C,WAAtB,EAA/B,IACE,CAAC,CADH,IAEAD,GAAG,CAACzC,KAAJ,CAAU0C,WAAV,GAAwBC,OAAxB,CAAgC,KAAKpD,KAAL,CAAWI,UAAX,CAAsB+C,WAAtB,EAAhC,IACE,CAAC,CAHH,IAIAD,GAAG,CAACG,EAAJ,CAAOF,WAAP,GAAqBC,OAArB,CAA6B,KAAKpD,KAAL,CAAWI,UAAX,CAAsB+C,WAAtB,EAA7B,IACE,CAAC,CALH,IAMAD,GAAG,CAACxC,IAAJ,CAASyC,WAAT,GAAuBC,OAAvB,CAA+B,KAAKpD,KAAL,CAAWI,UAAX,CAAsB+C,WAAtB,EAA/B,IAAsE,CAAC,CARpE,CAAP;AAUD;;AAEDlC,EAAAA,WAAW,GAAG;AACZ,wBACE,QAAC,OAAD;AAAS,MAAA,SAAS,EAAC,SAAnB;AAA6B,MAAA,IAAI,EAAC,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAEDF,EAAAA,YAAY,CAACuC,KAAD,EAAQ;AAClB,SAAKhB,QAAL,CAAc;AAAEpC,MAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWC;AAAxB,KAAd;AACA,SAAKqC,QAAL,CAAc;AAAElC,MAAAA,UAAU,EAAEkD,KAAK,CAACC,MAAN,CAAaC;AAA3B,KAAd,EAAkD,MAAM;AACtD,UAAIC,KAAK,GAAG,KAAK/D,MAAL,CAAY,KAAKM,KAAL,CAAWE,SAAvB,CAAZ;AACA,WAAKoC,QAAL,CAAc;AAAEpC,QAAAA,SAAS,EAAEuD;AAAb,OAAd;AACD,KAHD;AAID;;AAEDtC,EAAAA,WAAW,CAACuC,IAAD,EAAOC,CAAP,EAAU;AACnBvB,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBsB,CAAC,CAACJ,MAAF,CAAS5C,IAA7B;AACA,QAAIiD,MAAM,GAAG,KAAK5D,KAAL,CAAWE,SAAX,CAAqB2D,SAArB,CACVC,OAAD,IAAaA,OAAO,CAACT,EAAR,KAAeK,IAAI,CAACL,EADtB,CAAb;AAIA,QAAIU,QAAQ,GAAG,CAAC,GAAG,KAAK/D,KAAL,CAAWE,SAAf,CAAf;AACA6D,IAAAA,QAAQ,CAACH,MAAD,CAAR,GAAmB,EACjB,GAAGG,QAAQ,CAACH,MAAD,CADM;AAEjBlB,MAAAA,SAAS,EAAE,CAACqB,QAAQ,CAACH,MAAD,CAAR,CAAiBlB;AAFZ,KAAnB;AAIA,SAAKJ,QAAL,CAAc;AACZpC,MAAAA,SAAS,EAAE6D;AADC,KAAd;AAIA,SAAKzB,QAAL,CAAc;AACZ/B,MAAAA,WAAW,EAAE,CAAC,GAAG,KAAKP,KAAL,CAAWO,WAAf,EAA4BmD,IAAI,CAACL,EAAjC;AADD,KAAd;;AAGA,QAAIM,CAAC,CAACJ,MAAF,CAASS,OAAb,EAAsB;AACpB;AAEA,UAAI,KAAKhE,KAAL,CAAWO,WAAX,CAAuB6C,OAAvB,CAA+B,KAAKpD,KAAL,CAAWO,WAAX,CAAuBmD,IAAvB,CAA/B,MAAiE,CAAC,CAAtE,EAAyE;AACvE,aAAKpB,QAAL,CAAc;AACZ/B,UAAAA,WAAW,EAAE,CAAC,GAAG,KAAKP,KAAL,CAAWO,WAAf,EAA4BmD,IAAI,CAACL,EAAjC;AADD,SAAd;AAGD;AACF,KARD,MAQO;AACL,WAAKf,QAAL,CAAc;AACZ/B,QAAAA,WAAW,EAAE,KAAKP,KAAL,CAAWO,WAAX,CAAuB0C,MAAvB,CAA+BgB,MAAD,IAAY;AACrD,iBAAOA,MAAM,KAAKP,IAAI,CAACL,EAAvB;AACD,SAFY;AADD,OAAd;AAKD;AACF;;AAEDjC,EAAAA,eAAe,CAACuC,CAAD,EAAIpD,WAAJ,EAAiBF,WAAjB,EAA8B;AAC3C,SAAKiC,QAAL,CAAc;AAAEzB,MAAAA,SAAS,EAAE,CAAC,KAAKb,KAAL,CAAWa;AAAzB,KAAd,EAAoD,MAAM;AACxD,UAAI,KAAKb,KAAL,CAAWa,SAAX,KAAyB,KAA7B,EAAoC;AAClC,aAAKyB,QAAL,CAAc;AAAE/B,UAAAA,WAAW,EAAE;AAAf,SAAd;AACD;AACF,KAJD;AAKA,QAAI2D,KAAK,GAAG7D,WAAW,GAAG,EAA1B;AACA,QAAI8D,GAAG,GAAG,CAAV;AACA,SAAKnE,KAAL,CAAWE,SAAX,CAAqBkE,MAArB,GAA8B,EAA9B,GACKD,GAAG,GAAG,KAAKnE,KAAL,CAAWE,SAAX,CAAqBkE,MADhC,GAEKD,GAAG,GAAGD,KAAK,GAAG,EAFnB;AAIA,QAAIH,QAAQ,GAAG,CAAC,GAAG,KAAK/D,KAAL,CAAWE,SAAf,CAAf,CAZ2C,CAa3C;;AACA,SAAKF,KAAL,CAAWE,SAAX,CAAqBmE,KAArB,CAA2BH,KAA3B,EAAkCC,GAAlC,EAAuC3B,GAAvC,CAA2C,CAACkB,IAAD,EAAOY,KAAP,KAAiB;AAC1DP,MAAAA,QAAQ,CAACL,IAAI,CAACL,EAAL,GAAU,CAAX,CAAR,GAAwB,EACtB,GAAGU,QAAQ,CAACL,IAAI,CAACL,EAAL,GAAU,CAAX,CADW;AAEtBX,QAAAA,SAAS,EAAE,CAACgB,IAAI,CAAChB;AAFK,OAAxB;AAKA,WAAKJ,QAAL,CAAeiC,SAAD,KAAgB;AAC5BhE,QAAAA,WAAW,EAAE,CAAC,GAAGgE,SAAS,CAAChE,WAAd,EAA2BmD,IAAI,CAACL,EAAhC;AADe,OAAhB,CAAd;AAGD,KATD;AAWA,SAAKf,QAAL,CAAc;AACZpC,MAAAA,SAAS,EAAE6D;AADC,KAAd;AAGD;;AAEDS,EAAAA,gBAAgB,GAAG;AACjB,QAAIC,UAAU,GAAG,EAAjB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1E,KAAL,CAAWE,SAAX,CAAqBkE,MAArB,GAA8B,EAAlD,EAAsDM,CAAC,EAAvD,EAA2D;AACzDD,MAAAA,UAAU,CAACE,IAAX,CAAgBD,CAAhB;AACD;;AACD,wBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACE;AACE,QAAA,KAAK,EAAE;AACLE,UAAAA,OAAO,EAAE,MADJ;AAELC,UAAAA,cAAc,EAAE,QAFX;AAGLC,UAAAA,QAAQ,EAAE;AAHL,SADT;AAAA,gCAOE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACb,iBAAKxC,QAAL,CAAc;AAAEjC,cAAAA,WAAW,EAAE;AAAf,aAAd;AACD,WAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,eAeE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACb,iBAAKiC,QAAL,CAAc;AAAEjC,cAAAA,WAAW,EAAE,KAAKL,KAAL,CAAWK,WAAX,GAAyB;AAAxC,aAAd;AACD,WAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF,EAuBGoE,UAAU,CAACjC,GAAX,CAAgBuC,MAAD,iBACd;AAEE,UAAA,KAAK,EAAE;AACLC,YAAAA,aAAa,EAAE,MADV;AAELJ,YAAAA,OAAO,EAAE,QAFJ;AAGLK,YAAAA,MAAM,EAAE;AAHH,WAFT;AAAA,iCAQE;AACE,YAAA,SAAS,EAAC,WADZ;AAEE,YAAA,OAAO,EAAE,MAAM;AACb,mBAAK3C,QAAL,CAAc;AAAEjC,gBAAAA,WAAW,EAAE0E;AAAf,eAAd;AACD,aAJH;AAAA,sBAMGA,MAAM,GAAG;AANZ;AAAA;AAAA;AAAA;AAAA;AARF,WACOA,MADP;AAAA;AAAA;AAAA;AAAA,gBADD,CAvBH,eA0CE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACb,iBAAKzC,QAAL,CAAc;AAAEjC,cAAAA,WAAW,EAAE,KAAKL,KAAL,CAAWK,WAAX,GAAyB;AAAxC,aAAd;AACD,WAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1CF,eAkDE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACb,iBAAKiC,QAAL,CAAc;AACZjC,cAAAA,WAAW,EAAE,KAAKL,KAAL,CAAWE,SAAX,CAAqBkE,MAArB,GAA8B,EAA9B,GAAmC;AADpC,aAAd;AAGD,WANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAiED;;AAED/C,EAAAA,YAAY,CAACsC,CAAD,EAAIpD,WAAJ,EAAiB;AAC3B,QAAI,KAAKP,KAAL,CAAWa,SAAf,EAA0B;AACxB,WAAKyB,QAAL,CAAc;AACZzB,QAAAA,SAAS,EAAE,CAAC,KAAKb,KAAL,CAAWa;AADX,OAAd;AAGD;;AACD,QAAIqE,SAAS,GAAG,KAAKlF,KAAL,CAAWE,SAA3B;AACA,QAAI+C,MAAM,GAAG,EAAb,CAP2B,CAQ3B;;AACAiC,IAAAA,SAAS,CAAC1C,GAAV,CAAe2C,GAAD,IAAS;AACrB,UAAI,CAAC5E,WAAW,CAAC6E,QAAZ,CAAqBD,GAAG,CAAC9B,EAAzB,CAAL,EAAmC;AACjCJ,QAAAA,MAAM,GAAG,CAAC,GAAGA,MAAJ,EAAYkC,GAAZ,CAAT;AACD;AACF,KAJD;AAKA,SAAK7C,QAAL,CACE;AACEhC,MAAAA,QAAQ,EAAE2C;AADZ,KADF,EAIE,MAAM;AACJf,MAAAA,YAAY,CAACS,OAAb,CAAqB,QAArB,EAA+BX,IAAI,CAACY,SAAL,CAAe,KAAK5C,KAAL,CAAWM,QAA1B,CAA/B;AACA,WAAKgC,QAAL,CAAc;AACZpC,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWM,QADV;AAEZL,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWM;AAFL,OAAd;AAID,KAVH;AAYA,SAAKgC,QAAL,CAAc;AACZ/B,MAAAA,WAAW,EAAE;AADD,KAAd;AAGD;;AAED8E,EAAAA,SAAS,CAAC1B,CAAD,EAAIpD,WAAJ,EAAiB;AACxB,QAAI2E,SAAS,GAAG,KAAKlF,KAAL,CAAWE,SAA3B;AACA,QAAI+C,MAAM,GAAGiC,SAAb;AACAjC,IAAAA,MAAM,GAAG,CAAC,GAAGA,MAAJ,EAAY;AAAExC,MAAAA,KAAK,EAAE,KAAT;AAAgBE,MAAAA,IAAI,EAAE,IAAtB;AAA4B0C,MAAAA,EAAE,EAAE,IAAhC;AAAsC3C,MAAAA,IAAI,EAAE;AAA5C,KAAZ,CAAT;AAEA,SAAK4B,QAAL,CACE;AACEhC,MAAAA,QAAQ,EAAE2C;AADZ,KADF,EAIE,MAAM;AACJf,MAAAA,YAAY,CAACS,OAAb,CAAqB,QAArB,EAA+BX,IAAI,CAACY,SAAL,CAAe,KAAK5C,KAAL,CAAWM,QAA1B,CAA/B;AACA,WAAKgC,QAAL,CAAc;AACZpC,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWM,QADV;AAEZL,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWM;AAFL,OAAd;AAID,KAVH;AAYA,SAAKgC,QAAL,CAAc;AACZ/B,MAAAA,WAAW,EAAE;AADD,KAAd;AAGD;;AAEDe,EAAAA,UAAU,CAACgC,KAAD,EAAQgC,WAAR,EAAqB;AAC7B,SAAKhD,QAAL,CAAc;AACZ3B,MAAAA,IAAI,EAAE2C,KAAK,CAACC,MAAN,CAAaC;AADP,KAAd;AAGD;;AACDhC,EAAAA,WAAW,CAAC8B,KAAD,EAAQgC,WAAR,EAAqB;AAC9B,SAAKhD,QAAL,CAAc;AACZ7B,MAAAA,KAAK,EAAE6C,KAAK,CAACC,MAAN,CAAaC;AADR,KAAd;AAGD;;AACDjC,EAAAA,UAAU,CAAC+B,KAAD,EAAQgC,WAAR,EAAqB;AAC7B,SAAKhD,QAAL,CAAc;AACZ5B,MAAAA,IAAI,EAAE4C,KAAK,CAACC,MAAN,CAAaC;AADP,KAAd;AAGD;;AACD/B,EAAAA,gBAAgB,CAAC6B,KAAD,EAAQgC,WAAR,EAAqB;AACnChC,IAAAA,KAAK,CAACiC,cAAN,GADmC,CAEnC;;AACA,SAAKvF,KAAL,CAAWC,IAAX,CAAgBuC,GAAhB,CAAoB,CAACkB,IAAD,EAAOgB,CAAP,KAAa;AAC/B,UAAIhB,IAAI,CAACL,EAAL,KAAYiC,WAAhB,EAA6B;AAC3B,YAAIvB,QAAQ,GAAG,CAAC,GAAG,KAAK/D,KAAL,CAAWC,IAAf,CAAf;AACA8D,QAAAA,QAAQ,CAACW,CAAD,CAAR,GAAc,EACZ,GAAGX,QAAQ,CAACW,CAAD,CADC;AAEZ/D,UAAAA,IAAI,EAAE,KAAKX,KAAL,CAAWW,IAFL;AAGZF,UAAAA,KAAK,EAAE,KAAKT,KAAL,CAAWS,KAHN;AAIZC,UAAAA,IAAI,EAAE,KAAKV,KAAL,CAAWU,IAJL;AAKZgC,UAAAA,SAAS,EAAE;AALC,SAAd;AAOA,aAAKJ,QAAL,CACE;AACErC,UAAAA,IAAI,EAAE8D,QADR;AAEE7D,UAAAA,SAAS,EAAE6D;AAFb,SADF,EAKE,MAAM;AACJ7B,UAAAA,YAAY,CAACS,OAAb,CAAqB,QAArB,EAA+BX,IAAI,CAACY,SAAL,CAAemB,QAAf,CAA/B;AACA,eAAKzB,QAAL,CAAc;AACZ/B,YAAAA,WAAW,EAAE;AADD,WAAd;AAGD,SAVH;AAYD;AACF,KAvBD;AAwBD;;AAEDW,EAAAA,WAAW,GAAG;AACZ,SAAKoB,QAAL,CAAc;AACZ1B,MAAAA,KAAK,EAAE,CAAC,KAAKZ,KAAL,CAAWY;AADP,KAAd;AAGD;;AAED4E,EAAAA,MAAM,GAAG;AACP;AACA,QAAIC,MAAM,GAAG,CAAC,GAAGC,KAAK,CAAC,CAAD,CAAT,EAAclD,GAAd,CAAkB,CAACC,CAAD,EAAI6B,KAAJ,KAAc;AAC3C,UAAIqB,MAAM,GAAGrB,KAAK,GAAG,EAArB;AACA,aAAO,KAAKtE,KAAL,CAAWE,SAAX,CAAqBmE,KAArB,CAA2BsB,MAA3B,EAAmCA,MAAM,GAAG,EAA5C,CAAP;AACD,KAHY,CAAb;;AAIA,QAAI,KAAK3F,KAAL,CAAWC,IAAX,CAAgBmE,MAAhB,KAA2B,CAA3B,IAAgC,KAAKpE,KAAL,CAAWG,UAAX,CAAsBiE,MAAtB,KAAiC,CAArE,EAAwE;AACtE,aAAO,KAAKnD,WAAL,EAAP;AACD;;AAED,QAAI,KAAKjB,KAAL,CAAWC,IAAX,CAAgBmE,MAAhB,KAA2B,CAA3B,IAAgC,KAAKpE,KAAL,CAAWG,UAAX,CAAsBiE,MAAtB,KAAiC,CAArE,EAAwE;AACtE,0BAAO;AAAA,oCAAmB,KAAKpE,KAAL,CAAWG,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO;AACL,0BACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE;AAAO,UAAA,WAAW,EAAC,QAAnB;AAA4B,UAAA,QAAQ,EAAE,KAAKY;AAA3C;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACE;AAAO,YAAA,SAAS,EAAC,gBAAjB;AAAA,oCACE;AAAA,qCACE;AAAA,wCACE;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,UADP;AAEE,oBAAA,QAAQ,EAAG4C,CAAD,IAAO;AACf,2BAAKvC,eAAL,CACEuC,CADF,EAEE,KAAK3D,KAAL,CAAWO,WAFb,EAGE,KAAKP,KAAL,CAAWK,WAHb;AAKD,qBARH;AASE,oBAAA,OAAO,EAAE,KAAKL,KAAL,CAAWa;AATtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAdF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAfF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhBF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAuBE;AAAA,wBACG,KAAKb,KAAL,CAAWE,SAAX,CACEmE,KADF,CAEG,KAAKrE,KAAL,CAAWK,WAAX,GAAyB,EAF5B,EAGG,KAAKL,KAAL,CAAWK,WAAX,GAAyB,EAAzB,GAA8B,EAHjC,EAKEmC,GALF,CAKM,CAACoD,MAAD,EAASlB,CAAT,kBACH;AAEE,gBAAA,SAAS,EACPkB,MAAM,CAAClD,SAAP,KAAqB,IAArB,GACI,YADJ,GAEI,cALR;AAAA,wCAQE;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,UADP;AAEE,oBAAA,IAAI,EAAEkD,MAAM,CAACvC,EAFf;AAGE,oBAAA,OAAO,EAAEuC,MAAM,CAAClD,SAHlB;AAIE,oBAAA,QAAQ,EAAGiB,CAAD,IAAO;AACf,2BAAKxC,WAAL,CAAiByE,MAAjB,EAAyBjC,CAAzB;AACD;AANH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBARF,eAkBE;AAAA,4BAAKiC,MAAM,CAACvC;AAAZ;AAAA;AAAA;AAAA;AAAA,wBAlBF,eAmBE;AAAA,4BAAKuC,MAAM,CAACjF;AAAZ;AAAA;AAAA;AAAA;AAAA,wBAnBF,eAoBE;AAAA,4BAAKiF,MAAM,CAACnF;AAAZ;AAAA;AAAA;AAAA;AAAA,wBApBF,eAqBE;AAAA,4BAAKmF,MAAM,CAAClF;AAAZ;AAAA;AAAA;AAAA;AAAA,wBArBF;AAAA,iBACOgE,CADP;AAAA;AAAA;AAAA;AAAA,sBANH;AADH;AAAA;AAAA;AAAA;AAAA,oBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAHF,EA8DG,KAAKF,gBAAL,EA9DH,eA+DE;AAAA,kCACE;AACE,YAAA,SAAS,EAAC,kBADZ;AAEE,YAAA,OAAO,EAAGb,CAAD,IAAO;AACd,mBAAKtC,YAAL,CAAkBsC,CAAlB,EAAqB,KAAK3D,KAAL,CAAWO,WAAhC;AACD,aAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eASE;AACE,YAAA,SAAS,EAAC,kBADZ;AAEE,YAAA,OAAO,EAAGoD,CAAD,IAAO;AACd,mBAAK0B,SAAL,CAAe1B,CAAf,EAAkB,KAAK3D,KAAL,CAAWO,WAA7B;AACD,aAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,eAiBE;AACE,YAAA,SAAS,EAAC,gBADZ;AAEE,YAAA,OAAO,EAAGoD,CAAD,IAAO;AACd,kBAAI,KAAK3D,KAAL,CAAWO,WAAX,CAAuB6D,MAAvB,KAAkC,CAAtC,EAAyC;AACvC,oBAAIyB,CAAC,GAAG,KAAK7F,KAAL,CAAWE,SAAX,CAAqB+C,MAArB,CACLC,GAAD,IAASA,GAAG,CAACG,EAAJ,KAAW,KAAKrD,KAAL,CAAWO,WAAX,CAAuB,CAAvB,CADd,CAAR;AAIA,qBAAK+B,QAAL,CAAc;AACZ3B,kBAAAA,IAAI,EAAEkF,CAAC,CAAC,CAAD,CAAD,CAAKlF,IADC;AAEZF,kBAAAA,KAAK,EAAEoF,CAAC,CAAC,CAAD,CAAD,CAAKpF,KAFA;AAGZC,kBAAAA,IAAI,EAAEmF,CAAC,CAAC,CAAD,CAAD,CAAKnF;AAHC,iBAAd;;AAKA,oBAAI,KAAKV,KAAL,CAAWO,WAAX,CAAuB6D,MAAvB,KAAkC,CAAtC,EAAyC;AACvC,uBAAK9B,QAAL,CAAc;AACZ1B,oBAAAA,KAAK,EAAE,CAAC,KAAKZ,KAAL,CAAWY,KADP;AAEZJ,oBAAAA,SAAS,EAAE,KAAKR,KAAL,CAAWO,WAAX,CAAuB,CAAvB;AAFC,mBAAd;AAID;AACF,eAhBD,MAgBO;AACLuF,gBAAAA,KAAK,CAAC,iBAAD,CAAL;AACD;AACF,aAtBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA/DF,EA2GG,KAAK9F,KAAL,CAAWY,KAAX,gBACC,QAAC,SAAD;AACE,UAAA,SAAS,EAAE,KAAKZ,KAAL,CAAWE,SADxB;AAEE,UAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWM,QAFvB;AAGE,UAAA,WAAW,EAAE,KAAKY,WAHpB;AAIE,UAAA,IAAI,EAAE,KAAKlB,KAAL,CAAWW,IAJnB;AAKE,UAAA,KAAK,EAAE,KAAKX,KAAL,CAAWY,KALpB;AAME,UAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWQ,SANrB;AAOE,UAAA,UAAU,EAAE,KAAKc,UAPnB;AAQE,UAAA,WAAW,EAAE,KAAKE,WARpB;AASE,UAAA,UAAU,EAAE,KAAKD,UATnB;AAUE,UAAA,gBAAgB,EAAE,KAAKE;AAVzB;AAAA;AAAA;AAAA;AAAA,gBADD,gBAcC;AAAA;AAAA;AAAA;AAAA,gBAzHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AA8HD;AACF;;AA5dwC","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { search } from \"./utils\";\nimport EditModal from \"./EditModal\";\nimport { Spinner } from \"reactstrap\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      resP: [],\n      resResult: [],\n      errMessage: [],\n      searchTerm: \"\",\n      currentPage: 0,\n      filerRes: [],\n      checkedList: [],\n      currentID: null,\n      email: \"\",\n      role: \"\",\n      name: \"\",\n      modal: false,\n      selectAll: false,\n      updated: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.showLoading = this.showLoading.bind(this);\n    this.handleModal = this.handleModal.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.handleSelectAll = this.handleSelectAll.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.handleRole = this.handleRole.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n    this.handleEditSubmit = this.handleEditSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const url =\n      \"https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json\";\n\n    axios\n      .get(url)\n      .then((response) => {\n        const res_local = JSON.parse(localStorage.getItem(\"resLoc\"));\n        console.log(res_local);\n        this.setState(\n          {\n            resResult:\n              res_local ||\n              response.data.map((a) => {\n                return { ...a, isChecked: false };\n              }),\n          },\n          () => {\n            localStorage.setItem(\n              \"resLoc\",\n              JSON.stringify(this.state.resResult)\n            );\n            this.setState({\n              resP: this.state.resResult,\n            });\n          }\n        );\n      })\n      .catch((error) => {\n        this.setState({\n          errMessage: error.message,\n        });\n      });\n  }\n\n  search(rows) {\n    return rows.filter(\n      (row) =>\n        row.name.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) >\n          -1 ||\n        row.email.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) >\n          -1 ||\n        row.id.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) >\n          -1 ||\n        row.role.toLowerCase().indexOf(this.state.searchTerm.toLowerCase()) > -1\n    );\n  }\n\n  showLoading() {\n    return (\n      <Spinner className=\"loading\" size=\"\">\n        Loading...\n      </Spinner>\n    );\n  }\n\n  handleChange(event) {\n    this.setState({ resResult: this.state.resP });\n    this.setState({ searchTerm: event.target.value }, () => {\n      let tfile = this.search(this.state.resResult);\n      this.setState({ resResult: tfile });\n    });\n  }\n\n  handleCheck(item, e) {\n    console.log(\"this\", e.target.name);\n    let currid = this.state.resResult.findIndex(\n      (element) => element.id === item.id\n    );\n\n    let newArray = [...this.state.resResult];\n    newArray[currid] = {\n      ...newArray[currid],\n      isChecked: !newArray[currid].isChecked,\n    };\n    this.setState({\n      resResult: newArray,\n    });\n\n    this.setState({\n      checkedList: [...this.state.checkedList, item.id],\n    });\n    if (e.target.checked) {\n      //true append id to checklist\n\n      if (this.state.checkedList.indexOf(this.state.checkedList[item]) === -1) {\n        this.setState({\n          checkedList: [...this.state.checkedList, item.id],\n        });\n      }\n    } else {\n      this.setState({\n        checkedList: this.state.checkedList.filter((c_item) => {\n          return c_item !== item.id;\n        }),\n      });\n    }\n  }\n\n  handleSelectAll(e, checkedList, currentPage) {\n    this.setState({ selectAll: !this.state.selectAll }, () => {\n      if (this.state.selectAll === false) {\n        this.setState({ checkedList: [] });\n      }\n    });\n    let start = currentPage * 10;\n    let end = 0;\n    this.state.resResult.length < 10\n      ? (end = this.state.resResult.length)\n      : (end = start + 10);\n\n    let newArray = [...this.state.resResult];\n    // eslint-disable-next-line\n    this.state.resResult.slice(start, end).map((item, index) => {\n      newArray[item.id - 1] = {\n        ...newArray[item.id - 1],\n        isChecked: !item.isChecked,\n      };\n\n      this.setState((prevState) => ({\n        checkedList: [...prevState.checkedList, item.id],\n      }));\n    });\n\n    this.setState({\n      resResult: newArray,\n    });\n  }\n\n  listofAllButtons() {\n    let pageNumber = [];\n    for (let i = 0; i < this.state.resResult.length / 10; i++) {\n      pageNumber.push(i);\n    }\n    return (\n      <nav className=\"list__buttons\">\n        <ul\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            flexWrap: \"wrap\",\n          }}\n        >\n          <button\n            className=\"btn-class\"\n            onClick={() => {\n              this.setState({ currentPage: 0 });\n            }}\n          >\n            Start\n          </button>\n          <button\n            className=\"btn-class\"\n            onClick={() => {\n              this.setState({ currentPage: this.state.currentPage - 1 });\n            }}\n          >\n            prev\n          </button>\n          {pageNumber.map((number) => (\n            <li\n              key={number}\n              style={{\n                listStyleType: \"none\",\n                display: \"inline\",\n                margin: \"5px\",\n              }}\n            >\n              <button\n                className=\"btn-class\"\n                onClick={() => {\n                  this.setState({ currentPage: number });\n                }}\n              >\n                {number + 1}\n              </button>\n            </li>\n          ))}\n          <button\n            className=\"btn-class\"\n            onClick={() => {\n              this.setState({ currentPage: this.state.currentPage + 1 });\n            }}\n          >\n            next\n          </button>\n          <button\n            className=\"btn-class\"\n            onClick={() => {\n              this.setState({\n                currentPage: this.state.resResult.length / 10 - 1,\n              });\n            }}\n          >\n            end\n          </button>\n        </ul>\n      </nav>\n    );\n  }\n\n  handleDelete(e, checkedList) {\n    if (this.state.selectAll) {\n      this.setState({\n        selectAll: !this.state.selectAll,\n      });\n    }\n    let tempfiles = this.state.resResult;\n    let filter = [];\n    // eslint-disable-next-line\n    tempfiles.map((obj) => {\n      if (!checkedList.includes(obj.id)) {\n        filter = [...filter, obj];\n      }\n    });\n    this.setState(\n      {\n        filerRes: filter,\n      },\n      () => {\n        localStorage.setItem(\"resLoc\", JSON.stringify(this.state.filerRes));\n        this.setState({\n          resResult: this.state.filerRes,\n          resP: this.state.filerRes,\n        });\n      }\n    );\n    this.setState({\n      checkedList: [],\n    });\n  }\n\n  handleAdd(e, checkedList) {\n    let tempfiles = this.state.resResult;\n    let filter = tempfiles;\n    filter = [...filter, { email: \"aaa\", name: \"op\", id: \"00\", role: \"op\" }];\n\n    this.setState(\n      {\n        filerRes: filter,\n      },\n      () => {\n        localStorage.setItem(\"resLoc\", JSON.stringify(this.state.filerRes));\n        this.setState({\n          resResult: this.state.filerRes,\n          resP: this.state.filerRes,\n        });\n      }\n    );\n    this.setState({\n      checkedList: [],\n    });\n  }\n\n  handleName(event, currentEdit) {\n    this.setState({\n      name: event.target.value,\n    });\n  }\n  handleEmail(event, currentEdit) {\n    this.setState({\n      email: event.target.value,\n    });\n  }\n  handleRole(event, currentEdit) {\n    this.setState({\n      role: event.target.value,\n    });\n  }\n  handleEditSubmit(event, currentEdit) {\n    event.preventDefault();\n    // eslint-disable-next-line\n    this.state.resP.map((item, i) => {\n      if (item.id === currentEdit) {\n        let newArray = [...this.state.resP];\n        newArray[i] = {\n          ...newArray[i],\n          name: this.state.name,\n          email: this.state.email,\n          role: this.state.role,\n          isChecked: false,\n        };\n        this.setState(\n          {\n            resP: newArray,\n            resResult: newArray,\n          },\n          () => {\n            localStorage.setItem(\"resLoc\", JSON.stringify(newArray));\n            this.setState({\n              checkedList: [],\n            });\n          }\n        );\n      }\n    });\n  }\n\n  handleModal() {\n    this.setState({\n      modal: !this.state.modal,\n    });\n  }\n\n  render() {\n    // eslint-disable-next-line\n    let mypage = [...Array(5)].map((a, index) => {\n      let index1 = index * 10;\n      return this.state.resResult.slice(index1, index1 + 10);\n    });\n    if (this.state.resP.length === 0 && this.state.errMessage.length === 0) {\n      return this.showLoading();\n    }\n\n    if (this.state.resP.length === 0 && this.state.errMessage.length !== 0) {\n      return <div>Some error : {this.state.errMessage}</div>;\n    } else {\n      return (\n        <div className=\"app-container\">\n          <input placeholder=\"Search\" onChange={this.handleChange}></input>\n\n          <div className=\"container\">\n            <table className=\"response-table\">\n              <thead>\n                <tr>\n                  <th>\n                    <input\n                      type=\"checkbox\"\n                      onChange={(e) => {\n                        this.handleSelectAll(\n                          e,\n                          this.state.checkedList,\n                          this.state.currentPage\n                        );\n                      }}\n                      checked={this.state.selectAll}\n                    ></input>\n                  </th>\n                  <th>ID</th>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Role</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {this.state.resResult\n                  .slice(\n                    this.state.currentPage * 10,\n                    this.state.currentPage * 10 + 10\n                  )\n                  .map((person, i) => (\n                    <tr\n                      key={i}\n                      className={\n                        person.isChecked === true\n                          ? \"active-row\"\n                          : \"inactice-row\"\n                      }\n                    >\n                      <td>\n                        <input\n                          type=\"checkbox\"\n                          name={person.id}\n                          checked={person.isChecked}\n                          onChange={(e) => {\n                            this.handleCheck(person, e);\n                          }}\n                        ></input>\n                      </td>\n                      <td>{person.id}</td>\n                      <td>{person.name}</td>\n                      <td>{person.email}</td>\n                      <td>{person.role}</td>\n                    </tr>\n                  ))}\n              </tbody>\n            </table>\n          </div>\n\n          {this.listofAllButtons()}\n          <div>\n            <button\n              className=\"btn-class delete\"\n              onClick={(e) => {\n                this.handleDelete(e, this.state.checkedList);\n              }}\n            >\n              Delete\n            </button>\n            <button\n              className=\"btn-class delete\"\n              onClick={(e) => {\n                this.handleAdd(e, this.state.checkedList);\n              }}\n            >\n              Add\n            </button>\n            <button\n              className=\"btn-class edit\"\n              onClick={(e) => {\n                if (this.state.checkedList.length !== 0) {\n                  let p = this.state.resResult.filter(\n                    (row) => row.id === this.state.checkedList[0]\n                  );\n\n                  this.setState({\n                    name: p[0].name,\n                    email: p[0].email,\n                    role: p[0].role,\n                  });\n                  if (this.state.checkedList.length !== 0) {\n                    this.setState({\n                      modal: !this.state.modal,\n                      currentID: this.state.checkedList[0],\n                    });\n                  }\n                } else {\n                  alert(\"nothing to edit\");\n                }\n              }}\n            >\n              Edit\n            </button>\n          </div>\n          {this.state.modal ? (\n            <EditModal\n              resResult={this.state.resResult}\n              filerRes={this.state.filerRes}\n              handleModal={this.handleModal}\n              name={this.state.name}\n              modal={this.state.modal}\n              currID={this.state.currentID}\n              handleName={this.handleName}\n              handleEmail={this.handleEmail}\n              handleRole={this.handleRole}\n              handleEditSubmit={this.handleEditSubmit}\n            />\n          ) : (\n            <div></div>\n          )}\n        </div>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}